<div class="pageheader">
  <h1 ng-if="role.type == 'create'">Create Role</h1>
  <h1 ng-if="role.type == 'edit'">Edit Role</h1>
  <div class="breadcrumb-wrapper hidden-xs">
    <span class="label">You are here:</span>
    <ol class="breadcrumb">
      <li><a href="/dashboard">Dashboard</a></li>
      <li>Roles</li>
      <li class="active" ng-if="role.type == 'create'">Create Role</li>
      <li class="active" ng-if="role.type == 'edit'">Edit Role</li>
    </ol>
  </div>
</div>
<div class="page-head">
  <h2 ng-if="role.type == 'create'">
    Create Role</h1>
    <h2 ng-if="role.type == 'edit'">Edit Role</h1>
</div>

<form class="form-horizontal">

  <div class="form-group">
    <label class="col-sm-2 control-label">Name</label>
    <div class="col-sm-6">
      <input type="text" class="form-control" ng-model="role.roleData.name">
    </div>
  </div>

  <div class="form-group">
    <label class="col-sm-2 control-label">Description</label>
    <div class="col-sm-6">
      <input type="text" class="form-control" ng-model="role.roleData.description">
    </div>
  </div>

  <div class="form-group">
    <label class="col-sm-2 control-label">Modules</label>
    <div class="col-sm-6">
      <select class="form-control" ng-model="role.modules" ng-change="role.switch()">
        <option value="dashboard"   >Dashboard</option>
        <option value="vault"       >Vault</option>
        <option value="participants">Participants</option>
        <option value="processes"   >Processes</option>
        <option value="files"       >Files</option>
        <option value="agreements"  >Agreements</option>
        <option value="users"       >Users</option>
        <option value="roles"       >Roles</option>
        <option value="admin"       >Admin</option>
      </select>
    </div>
  </div>

  <div class="form-group">
    <label class="col-sm-2 control-label">Permissions</label>
    <div class="col-sm-6">
      <input type="checkbox" class="form-control-static" ng-change="role.modify('get')" ng-model="role.access['get']">GET</input>
      <input type="checkbox" class="form-control-static" ng-change="role.modify('post')" ng-model="role.access['post']">POST</input>
      <input type="checkbox" class="form-control-static" ng-change="role.modify('put')" ng-model="role.access['put']">PUT</input>
      <input type="checkbox" class="form-control-static" ng-change="role.modify('delete')" ng-model="role.access['delete']">DELETE</input>
    </div>
  </div>
  
  <div class="form-group">
    <label class="col-sm-2 control-label">Dashboard Sections</label>
    <div class="col-sm-2">
      <select class="form-control" ng-model="role.roleData.dashboardSections[0]">
        <option value="vault"      >Vault</option>
        <option value="files"      >Files</option>
        <option value="message"    >Messages</option>      
        <option value="process"   >Processes</option>
        <option value="event"      >Events</option>
        <option value="customer"   >Customers</option>
        <option value="processInProgress"  >Processes in Progress</option>
      </select>
    </div>
    <div class="col-sm-2">
      <select class="form-control" ng-model="role.roleData.dashboardSections[1]">
        <option value="vault"      >Vault</option>
        <option value="files"      >Files</option>
        <option value="message"    >Messages</option>      
        <option value="process"   >Processes</option>
        <option value="event"      >Events</option>
        <option value="customer"   >Customers</option>
        <option value="processInProgress"  >Processes in Progress</option>
      </select>
    </div>
    <div class="col-sm-2">
      <select class="form-control" ng-model="role.roleData.dashboardSections[2]">
        <option value="vault"      >Vault</option>
        <option value="files"      >Files</option>
        <option value="message"    >Messages</option>      
        <option value="process"   >Processes</option>
        <option value="event"      >Events</option>
        <option value="customer"   >Customers</option>
        <option value="processInProgress"  >Processes in Progress</option>
      </select>
    </div>
    <div class="col-sm-2">
      <select class="form-control" ng-model="role.roleData.dashboardSections[3]">
        <option value="vault"      >Vault</option>
        <option value="files"      >Files</option>
        <option value="message"    >Messages</option>      
        <option value="process"   >Processes</option>
        <option value="event"      >Events</option>
        <option value="customer"   >Customers</option>
        <option value="processInProgress"  >Processes in Progress</option>
      </select>
    </div>
  </div>


  <div class="form-group">
    <label class="col-sm-2 control-label">Effective Date</label>
    <div class="col-sm-6">
      <input type="text" class="form-control" ng-model="role.roleData.effectiveDate">
    </div>
  </div>
  
  <div class="form-group">
    <label class="col-sm-2 control-label">End Date</label>
    <div class="col-sm-6">
      <input type="text" class="form-control" ng-model="role.roleData.endDate">
    </div>
  </div>

  
  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-6">
      <button type="submit" class="btn btn-primary btn-lg btn-block" ng-if="role.type == 'create'" ng-click="role.saveRole()">Create Role</button>
      <button type="submit" class="btn btn-primary btn-lg btn-block" ng-if="role.type == 'edit'" ng-click="role.saveRole()">Update Role</button>
      <alert ng-repeat="alert in role.alerts" type="{{alert.type}}" close="role.closeAlert($index)" dismiss-on-timeout="4000" style="margin-top:20px;">{{alert.msg}}</alert>
    </div>
  </div>
</form>


